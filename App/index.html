<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Al Rajhi</title>
    <link rel="stylesheet" href="./assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="./assets/css/styles.css" />
    <link rel="stylesheet" href="./assets/css/jquery-ui.min.css" />
    <link rel="stylesheet" href="./assets/css/bootstrap-datetimepicker.min.css" />
    <style>
        .check-text {
            min-width: 300px;
        }
    </style>
</head>

<body>
    <div class="d-flex justify-content-center px-md-4 px-1 pb-5">
        <div class="container-fluid px-md-4 mx-md-5 form-wrapper mt-5 py-md-4">
            <form class="py-4 px-md-3" id="appForm" novalidate>
                <!-- PERSONAL INFORMATION -->
                <div class="panel-group my-4" id="accordionOne" role="tablist" aria-multiselectable="true">
                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="headingOne">
                            <h4 class="panel-title px-md-4 px-2">
                                <a role="button" data-toggle="collapse" data-parent="#accordionOne" href="#collapseOne"
                                    aria-expanded="true" aria-controls="collapseOne" class="title-link py-4"><span
                                        class="title-icon mx-3"></span>

                                    معلومات شخصية
                                </a>
                            </h4>
                        </div>

                        <div id="collapseOne" class="panel-collapse collapse in py-3 px-4 show" role="tabpanel"
                            aria-labelledby="headingOne">
                            <div class="form-row">
                                <!-- 1 - Customer Name-->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="customerName">إسم العميل</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="customerName" name="name_customer"
                                        maxlength="100" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 2 - Customer Number -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="customerNumber">رقم العميل</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control number" id="customerNumber"
                                        name="customer_number" maxlength="10" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>
                                <!-- 3 Contract / Order Number -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="orderNumber">رقم العقد/رقم الطلب</label><span
                                        class="required mx-1">*</span>
                                    <input type="text" class="form-control number" id="orderNumber" name="order_number"
                                        maxlength="100" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 4 - Customer Identification Number -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="customerID">رقم هوية العميل</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control number" id="customerID"
                                        name="national_id_number" maxlength="10" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>
                                <!-- 5 - Home Phone -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="homePhone">هاتف المنزل</label>
                                    <input type="text" class="form-control" id="homePhone" name="home_phone"
                                        maxlength="10" />
                                    <span class="text-danger error" aria-live="polite"></span>
                                </div>

                                <!-- 6 - Work Phone -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="workPhone">هاتف العمل</label>
                                    <input type="text" class="form-control" id="workPhone" name="work_phone"
                                        maxlength="10" />
                                    <span class="text-danger error" aria-live="polite"></span>
                                </div>

                                <!-- 7 - Mobile -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="mobile">جوال</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control phonenumber" id="mobile" name="mobile"
                                        maxlength="10" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 8 - Converted -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="converted">تحويلة</label>
                                    <input type="text" class="form-control number" id="converted" name="converted"
                                        maxlength="100" />
                                </div>


                                <!-- 9 - Email -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="email">بريد إلكتروني</label>
                                    <!-- <span class="requi mx-1">*</span> -->
                                    <input type="text" class="form-control" id="email" name="email" />
                                    <span class="error" aria-live="polite"></span>
                                </div>
                            </div>

                            <br />
                            <hr />
                            <br />

                            <div class="form-group col-md-6 col-lg-3 col-12 mb-3">
                                <!-- Pursuit - select dropdown -->
                                <label for="persuit">السعي</label>
                                <select class="custom-select form-control" id="persuit" name="persuit">
                                    <option value="hide">لا يوجد سعي</option>
                                    <option value="show">يوجد سعي</option>
                                </select>
                            </div>

                            <div class="form-row d-none" id="realEstateInfo">
                                <!-- 10 - The name of the real estate office -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="estateOffice">إسم المكتب العقاري</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="estateOffice" name="realestate_name"
                                        maxlength="100" />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 11 - Real estate office owner -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="officeOwner">صاحب المكتب العقاري</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="officeOwner" name="realestate_owner"
                                        maxlength="100" />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 12 - Office Phone -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="officePhone">هاتف المكتب</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="officePhone"
                                        name="office_phone" maxlength="10" />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 13 - Fax -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="fax">فاكس</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control number" id="fax" name="fax" />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 14 - Quest value -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="questValue">قيمة السعي</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control number" id="questValue" name="quest_value"
                                        maxlength="100" />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 25 - Quest ratio -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="questRatio">نسبة السعي</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="questRatio" name="quest_ratio"
                                        oninput="maxLengthCheck_questratio(this)" max="2.50" value="2.50" />
                                    <span class="error" aria-live="polite"></span>
                                </div>
                            </div>

                            <br />

                            <hr />
                            <br />

                            <div class="form-row">
                                <!-- 33 - Owner / seller name -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="sellerName">اسم المالك/البائع</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="sellerName" name="owner_name"
                                        maxlength="100" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 34 - Owner Capacity select dropdown -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="asTheOwner">صفة المالك</label>
                                    <select class="custom-select form-control" id="asTheOwner" name="as_the_owner">
                                        <option value="موكل شخص آخر" dir="rtl">
                                            موكل شخص آخر
                                        </option>
                                        <option value="نفسه" dir="rtl" selected>نفسه</option>
                                    </select>
                                </div>

                                <!-- 40 - First party (seller) name -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="firstPartyName">اسم الطرف الاول (البائع)</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="firstPartyName" name="seller_name"
                                        maxlength="100" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 44 - Witnesses 1 name -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="witnessOneName">اسم الشاهد الأول</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="witnessOneName" name="witness_one_name"
                                        maxlength="100" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 45 - Witness 1 ID -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="witnessOneID">هوية الشاهد الأول</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control number" id="witnessOneID"
                                        name="witness_one_id" maxlength="10" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 47 - Witness 1 address -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="witnessOneAddress">عنوان الشاهد الأول</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="witnessOneAddress" maxlength="100"
                                        name="witness_one_address" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 48 - Witnesses 2 name -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="witnessTwoName">اسم الشاهد الثاني</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="witnessTwoName" name="witness_two_name"
                                        maxlength="100" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 49 - Witness 2 ID -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="witnessTwoID">هوية الشاهد الثاني</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control number" id="witnessTwoID"
                                        name="witness_two_id" maxlength="10" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 51 - Witness 2 address -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="witnessTwoAddress">عنوان الشاهد الثاني</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="witnessTwoAddress" maxlength="100"
                                        name="witness_two_address" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 73 - Name of the employee / employee -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="employeeName">إسم الموطف/الموظفة</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="employeeName" name="employee_name"
                                        maxlength="100" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 35 - Employee Capacity -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="asTheEmployee">صفة الموظف</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="asTheEmployee" name="as_the_employee"
                                        maxlength="100" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>

                <!-- MORTGAGE INFORMATION -->
                <div class="panel-group my-4" id="accordionTwo" role="tablist" aria-multiselectable="true">
                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="headingTwo">
                            <h4 class="panel-title px-md-4 px-2">
                                <a role="button" data-toggle="collapse" data-parent="#accordionTwo" href="#collapseTwo"
                                    aria-expanded="false" aria-controls="collapseTwo" class="title-link py-4"><span
                                        class="title-icon mx-3"></span>

                                    معلومات العقار
                                </a>
                            </h4>
                        </div>
                        <div id="collapseTwo" class="panel-collapse collapse in py-3 px-4" role="tabpanel"
                            aria-labelledby="headingTwo">
                            <div class="form-row">
                                <!-- 4 - Type of property -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="typeOfProperty">نوع العقار</label>
                                    <span class="required mx-1">*</span> 
                                    <select class="custom-select form-control" id="descriptionItem"
                                        name="property_type">
                                        <option value="شقة" dir="rtl">شقة</option>
                                        <option value="فيلا" dir="rtl">فيلا</option>
                                        <option value="مبنى" dir="rtl">مبنى</option>
                                        <option value="أرض" dir="rtl">أرض</option>
                                        <option value="مبنى آخر" dir="rtl">مبنى آخر</option>
                                    </select>
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 5 - Plot No -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="plotNo">قطعة رقم</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="plotNo" name="land_number"
                                        maxlength="100" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>
     
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="landArea">مساحة الأرض الإجمالية</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="landArea" name="total_area" />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 7 - scheme number -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="schemeNumber">مخطط رقم</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="schemeNumber" maxlength="100"
                                        name="scheme_number" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 8 - clear building no -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="buildingNo">فسح بناء رقم</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="buildingNo" name="building_no"
                                        maxlength="100" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 9 - district -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="district"> الحي</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="district" name="district" required
                                        maxlength="100" />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 11 - the age of the building -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="buildingAge">عمر المبنى</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control number" id="buildingAge" name="building_age"
                                        maxlength="100" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 17 - His Address -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="hisAddress">عنوانه</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="hisAddress" name="his_address"
                                        maxlength="100" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 18 - City -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="city">المدينة</label>
                                    <span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="city" name="city" required
                                        maxlength="100" />
                                    <span class="error" aria-live="polite"></span>
                                </div>
                            </div>

                            <br />

                            <hr />
                            <br />

                            <div class="form-row">
                                <!-- 12 - north -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <div class="shadow shadow-sm rounded rounded-sm p-4 mx-2">
                                        <label for="north">يحد الأرض شمالاً</label>
                                        <span class="required mx-1">*</span>
                                        <input type="text" class="form-control" id="north" name="north" required
                                            maxlength="100" />
                                        <span class="error" aria-live="polite"></span>

                                        <br />

                                        <label for="northValue">بطول</label>
                                        <span class="required mx-1">*</span>
                                        <input type="text" class="form-control number" id="northValue" maxlength="100"
                                            name="north_as_tall_as" required />
                                        <span class="error" aria-live="polite"></span>
                                    </div>
                                </div>

                                <!-- 13 - south -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <div class="shadow shadow-sm rounded rounded-sm p-4">
                                        <label for="south">يحد الأرض جنوباً</label>
                                        <span class="required mx-1">*</span>
                                        <input type="text" class="form-control" id="south" name="south" required
                                            maxlength="100" />
                                        <span class="error" aria-live="polite"></span>

                                        <br />

                                        <label for="southValue">بطول</label>
                                        <span class="required mx-1">*</span>
                                        <input type="text" class="form-control number" id="southValue" maxlength="100"
                                            name="south_as_tall_as" required />
                                        <span class="error" aria-live="polite"></span>
                                    </div>
                                </div>

                                <!-- 14 - east -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <div class="shadow shadow-sm rounded rounded-sm p-4 mx-2">
                                        <label for="east">يحد الأرض شرقاً</label>
                                        <span class="required mx-1">*</span>
                                        <input type="text" class="form-control" id="east" name="east" required
                                            maxlength="100" />
                                        <span class="error" aria-live="polite"></span>

                                        <br />

                                        <label for="eastValue">بطول</label>
                                        <span class="required mx-1">*</span>
                                        <input type="text" class="form-control number" id="eastValue" maxlength="100"
                                            name="east_as_tall_as" required />
                                        <span class="error" aria-live="polite"></span>
                                    </div>
                                </div>

                                <!-- 15 - west -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <div class="shadow shadow-sm rounded rounded-sm p-4 mx-2">
                                        <label for="west">يحد الأرض غرباً</label>
                                        <span class="required mx-1">*</span>
                                        <input type="text" class="form-control" id="west" name="west" required
                                            maxlength="100" />
                                        <span class="error" aria-live="polite"></span>

                                        <br />

                                        <label for="westValue">بطول</label>
                                        <span class="required mx-1">*</span>
                                        <input type="text" class="form-control number" id="westValue" maxlength="100"
                                            name="west_as_tall_as" required />
                                        <span class="error" aria-live="polite"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- FINANCIAL VALUES AND RATIOS -->
                <div class="panel-group my-4" id="accordionThree" role="tablist" aria-multiselectable="true">
                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="headingThree">
                            <h4 class="panel-title px-md-4 px-2">
                                <a role="button" data-toggle="collapse" data-parent="#accordionThree"
                                    href="#collapseThree" aria-expanded="false" aria-controls="collapseThree"
                                    class="title-link py-4"><span class="title-icon mx-3"></span>قيمة وتكلفة العقار
                                </a>
                            </h4>
                        </div>
                        <div id="collapseThree" class="panel-collapse collapse in py-3 px-4" role="tabpanel"
                            aria-labelledby="headingThree">
                            <div class="form-row">
                                <!-- 38 - Total Amount Excluding VAT -->
                                <div class="form-group col-md-6 col-lg-4 col-12">
                                    <label for="totalNoVat"> مبلغ العقار بدون ضريبة القيمة المضافة بالريال السعودي</label><span
                                        class="required mx-1">*</span>
                                    <input type="text" class="form-control number" id="totalNoVat" maxlength="100"
                                        name="total_excluding_vat" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 58 - Amount of VAT in riyals -->
                                <div class="form-group col-md-6 col-lg-4 col-12">
                                    <label for="vatRiyals">
                                        مبلغ ضريبة القيمة المضافة بالريال السعودي</label><span
                                        class="required mx-1">*</span>
                                    <input type="text" class="form-control number" id="vatRiyals" maxlength="100"
                                        name="amount_of_vat_riyals" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 57 - total_amount_of_sale_riyals -->
                                <div class="form-group col-md-6 col-lg-4 col-12">
                                    <label for="totalInRiyals">إجمالي مبلغ بيع العقار بالريال السعودي</label><span
                                        class="required mx-1">*</span>
                                    <input type="text" class="form-control number" id="totalInRiyals" maxlength="100"
                                        name="amount_of_sale_riyals" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>



                                <!-- 64 - percentage of vat-->
                                <div class="form-group col-md-6 col-lg-4 col-12">
                                    <label for="vatPercent">النسبة المئوية لضريبة القيمة المضافة</label><span
                                        class="required mx-1">*</span>
                                    <input type="text" class="form-control number" id="vatPercent" maxlength="100"
                                        name="percentage_of_vat" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 74 - total Amount of funding -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="amountFunding">مبلغ التمويل</label><span class="required mx-1"></span>
                                    <input type="text" class="form-control number" id="amountFunding" maxlength="100"
                                        name="amount_of_funding" />
                                    <span class="error" aria-live="polite"></span>
                                </div>
                            </div>

                            <div class="form-row">
                                <!-- 70  -  first payment-->
                                <div class="form-group col-md-6 col-12">
                                    <p>الدفعة الأولى (35% نسبة الدفعة)</p>
                                    <div class="form-check">
                                        <input type="hidden" name="firstPay" value="☐" />
                                        <input class="form-check-input" type="checkbox" id="firstPay" name="firstPay"
                                            value="☑" />
                                        <label class="form-check-label mr-4" for="firstPay">
                                            مكتملة
                                        </label>
                                    </div>

                                    <div class="form-check">
                                        <input type="hidden" name="firstPayNot" value="☐" />
                                        <input class="form-check-input" type="checkbox" id="firstPayNot"
                                            name="fistPayNot" value="☑" />
                                        <label class="form-check-label mr-4" for="firstPayNot">
                                            غير مكتملة
                                        </label>
                                    </div>
                                </div>

                                <!-- 71 second payment-->

                                <div class="form-group col-md-6 col-12">
                                    <p>الدفعة الثانية (35% نسبة الدفعة)</p>
                                    <div class="form-check">
                                        <input type="hidden" name="secondPay" value="☐" />
                                        <input class="form-check-input" type="checkbox" id="secondPay" name="secondPay"
                                            value="☑" />
                                        <label class="form-check-label mr-4" for="secondPay">
                                            مكتملة
                                        </label>
                                    </div>

                                    <div class="form-check">
                                        <input type="hidden" name="secondPayNot" value="☐" />
                                        <input class="form-check-input" type="checkbox" id="secondPayNot"
                                            name="secondPayNot" value="☑" />
                                        <label class="form-check-label mr-4" for="secondPayNot">
                                            غير مكتملة
                                        </label>
                                    </div>
                                </div>

                                <!-- 72 third payment-->
                                <div class="form-group col-md-6 col-12">
                                    <p>الدفعة الثالثة (20% نسبة الدفعة)</p>
                                    <div class="form-check">
                                        <input type="hidden" name="thirdPay" value="☐" />
                                        <input class="form-check-input" type="checkbox" id="thirdPay" name="thirdPay"
                                            value="☑" />
                                        <label class="form-check-label mr-4" for="thirdPay">
                                            مكتملة
                                        </label>
                                    </div>

                                    <div class="form-check">
                                        <input type="hidden" name="thirdPayNot" value="☐" />
                                        <input class="form-check-input" type="checkbox" id="thirdPayNot"
                                            name="thirdPayNot" value="☑" />
                                        <label class="form-check-label mr-4" for="thirdPayNot">
                                            غير مكتملة
                                        </label>
                                    </div>
                                </div>

                                <!--  fourth payment-->
                                <div class="form-group col-md-6 col-12">
                                    <p>الدفعة الرابعة (10% نسبة الدفعة)</p>
                                    <div class="form-check">
                                        <input type="hidden" name="fourthPay" value="☐" />
                                        <input class="form-check-input" type="checkbox" id="fourthPay" name="fourthPay"
                                            value="☑" />
                                        <label class="form-check-label mr-4" for="fourthPay">
                                            مكتملة
                                        </label>
                                    </div>

                                    <div class="form-check">
                                        <input type="hidden" name="fourthPayNot" value="☐" />
                                        <input class="form-check-input" type="checkbox" id="fourthPayNot"
                                            name="fourthPayNot" value="☑" />
                                        <label class="form-check-label mr-4" for="fourthPayNot">
                                            غير مكتملة
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- DEED AND CERTIFICATES -->
                <div class="panel-group my-4" id="accordionFour" role="tablist" aria-multiselectable="true">
                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="headingFour">
                            <h4 class="panel-title px-md-4 px-2">
                                <a role="button" data-toggle="collapse" data-parent="#accordionFour"
                                    href="#collapseFour" aria-expanded="false" aria-controls="collapseFour"
                                    class="title-link py-4"><span class="title-icon mx-3"></span>تفاصيل الصك
                                </a>
                            </h4>
                        </div>

                        <div id="collapseFour" class="panel-collapse collapse in py-3 px-4" role="tabpanel"
                            aria-labelledby="headingThree">
                            <div class="form-row">
                                <!-- 36 - Instrument Number -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="instrumentNumber">رقم الصك</label><span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="instrumentNumber" maxlength="100"
                                        name="instrument_number" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 37 - Instrument Issuing City -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="instrumentCity">مدينة إصدار الصك</label><span
                                        class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="instrumentCity" maxlength="100"
                                        name="instrument_issuing_city" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 39 - Duration Option Condition-->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="duration">مدة خيار الشرط</label><span class="required mx-1">*</span>
                                    <input type="text" class="form-control number" id="duration" name="duration"
                                        maxlength="100" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 53 - Bank Name -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="bankName">إسم البنك المفوض</label><span class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="bankName" name="bank_name" required
                                        maxlength="100" />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 55 - certificate of entitlement -->
                                <div class="form-group col-md-6 col-lg-6 col-12">
                                    <label for="entitlement">رقم شهادة إستحقاق تحمل الدولة ضريبة القيمة المضافة من
                                        المسكن الأول</label><span class="required mx-1">*</span>
                                    <input type="text" class="form-control number" id="entitlement" maxlength="100"
                                        name="certificate_of_entitlement" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 56 VAT Registration number -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="regNumberVat">رقم التسجيل لضريبة القيمة المضافة</label><span
                                        class="required mx-1"></span>
                                    <input type="text" class="form-control number" id="regNumberVat" maxlength="100"
                                        name="reg_number_for_vat" />
                                    <span class="error" aria-live="polite"></span>
                                </div>
                                <!-- 60 Invoice Number -->
                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="invoiceNumber">رقم فاتورة البيع</label><span
                                        class="required mx-1">*</span>
                                    <input type="text" class="form-control" id="invoiceNumber" maxlength="100"
                                        name="invoice_number" required />
                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 61 description Item -->

                                <!-- 62 - qunantity -->

                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="quantity">الكمية</label><span class="required mx-1">*</span>

                                    <input type="text" class="form-control number" id="quantity" name="quantity"
                                        maxlength="100" required />

                                    <span class="error" aria-live="polite"></span>
                                </div>
                            </div> 
                        </div>
                    </div>
                </div>

                <!-- DATES -->

                <div class="panel-group my-4" id="accordionFive" role="tablist" aria-multiselectable="true">
                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="headingFive">
                            <h4 class="panel-title px-md-4 px-2">
                                <a role="button" data-toggle="collapse" data-parent="#accordionFive"
                                    href="#collapseFive" aria-expanded="false" aria-controls="collapseFive"
                                    class="title-link py-4"><span class="title-icon mx-3"></span>تواريخ مهمة
                                </a>
                            </h4>
                        </div>

                        <div id="collapseFive" class="panel-collapse collapse in py-3 px-4" role="tabpanel"
                            aria-labelledby="headingFive">
                            <div class="form-row">
                                <!-- 1 - Today's Date -->

                                <div class="form-group col-md-6 col-lg-3 col-12 d-none">
                                    <label for="todayDate">تاريخ اليوم</label><span class="required mx-1">*</span>

                                    <input type="text" autocomplete="off" class="form-control notranslate"
                                        id="todayDate" name="today_date" placeholder="" />

                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 10 - Instrument History -->

                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="instrumentHistory">تاريخ الصك</label><span
                                        class="required mx-1">*</span>

                                    <input type="text" autocomplete="off" class="form-control datepicker notranslate"
                                        id="instrumentHistory" name="history_instrument" placeholder="" />
                                    <span class="error" aria-live="polite"></span>

                                </div>

                                <!-- 32 - Contract Date -->

                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="contractDate">تاريخ العقد</label><span class="required mx-1">*</span>

                                    <input type="text" autocomplete="off" class="form-control datepicker notranslate"
                                        id="contractDate" name="date_of_contract" placeholder="" />

                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 54 - Agreement Date -->

                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="agreementDate">تاريخ الإتفاقية</label><span
                                        class="required mx-1">*</span>

                                    <input type="text" autocomplete="off" class="form-control datepicker notranslate"
                                        id="agreementDate" name="date_of_agreement" placeholder="" />

                                    <span class="error" aria-live="polite"></span>
                                </div>

                                <!-- 59 - Invoice issued date -->

                                <div class="form-group col-md-6 col-lg-3 col-12">
                                    <label for="invoiceDate">تاريخ إصدار الفاتورة</label><span
                                        class="required mx-1">*</span>

                                    <input type="text" autocomplete="off" class="form-control datepicker notranslate"
                                        id="invoiceDate" name="invoice_issued_date" placeholder="" />

                                    <span class="error" aria-live="polite"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <!-- ارادة الشراء الحقيقي -->

                    <div class="col-12 py-3 template-check-boxes">
                        <fieldset class="p-3 px-5">
                            <legend class="w-auto px-2">ارادة الشراء الحقيقي</legend>

                            <div class="form-row">
                                <div class="form-group col-md-6 col-12">
                                    <!-- Relationship -->

                                    <div class="form-check">
                                        <input type="hidden" name="relation" value="☐" />

                                        <input class="form-check-input" type="checkbox" id="relation" name="relation"
                                            value="☑" />

                                        <label class="form-check-label mr-4" for="relation">
                                            صلة قرابة بيني و بين مالك العقار
                                        </label>
                                    </div>
                                </div>

                                <div class="form-group col-md-6 col-12">
                                    <!-- Previous ownership of the property # -->

                                    <div class="form-check">
                                        <input type="hidden" name="prevowner" value="☐" />

                                        <input class="form-check-input" type="checkbox" id="prevOwner" name="prevowner"
                                            value="☑" />

                                        <label class="form-check-label mr-4" for="prevOwner">
                                            تملك سابق للعقار
                                        </label>
                                    </div>
                                </div>

                                <div class="form-group col-md-6 col-12">
                                    <!-- Discrepancy between the evaluation price and the selling price of the property by more than (20%) # -->

                                    <div class="form-check">
                                        <input type="hidden" name="discrepancy" value="☐" />

                                        <input class="form-check-input" type="checkbox" id="discrepancy"
                                            name="discrepancy" value="☑" />

                                        <label class="form-check-label mr-4" for="discrepancy">
                                            تفاوت بين سعر التقييم و سعر البيع في العقار بأكثر من
                                            (20%)
                                        </label>
                                    </div>
                                </div>

                                <div class="form-group col-md-6 col-12 d-flex align-items-center">
                                    <!-- Other# -->

                                    <div class="form-check">
                                        <input type="hidden" name="other" value="☐" />

                                        <input class="form-check-input" type="checkbox" id="other" name="other"
                                            value="☑" />

                                        <label class="form-check-label mr-4" for="other">
                                            أخرى
                                        </label>
                                    </div>

                                    <div>
                                        <input type="text" class="form-control check-text d-none" id="realOtherText"
                                            maxlength="100" name="real_other_text" />
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    <div class="col-12 mt-md-2 template-check-boxes">
                        <fieldset class="p-3 px-5">
                            <legend class="w-auto px-2">
                                إقرار معاينة عقار قابل للتأجير
                            </legend>

                            <div class="form-row">
                                <div class="form-group col-12">
                                    <!-- Fully finished with paint, electrical and plumbing fixtures and others -->

                                    <div class="form-check">
                                        <input type="hidden" name="fullyFinished" value="☐" />

                                        <input class="form-check-input" type="checkbox" id="fullyFinished"
                                            name="fullyFinished" value="☑" />

                                        <label class="form-check-label mr-4" for="fullyFinished">
                                            مكتمل التشطيبات من بويا و تركيبات خاصة بالكهرباء و
                                            السباكة و غيرها
                                        </label>
                                    </div>
                                </div>

                                <div class="form-group col-12">
                                    <!-- Include the following notes -->

                                    <div class="form-check">
                                        <input type="hidden" name="notes" value="☐" />

                                        <input class="form-check-input" type="checkbox" id="notes" name="notes"
                                            value="☑" />

                                        <label class="form-check-label mr-4" for="notes">
                                            مشتمل عالملحوظات الآتية
                                        </label>
                                    </div>
                                </div>

                                <div class="form-group col-12 mx-4 d-none" id="notesList">
                                    <div class="form-group">
                                        <!-- That the finishes are not completed from: -->

                                        <div class="form-check">
                                            <input type="hidden" name="finishes" value="☐" />

                                            <input class="form-check-input" type="checkbox" id="finishes"
                                                name="finishes" value="☑" />

                                            <label class="form-check-label mr-4" for="finishes">
                                                أن التشطيبات لم تكتمل من :
                                            </label>
                                        </div>

                                        <!-- show / hide list -->

                                        <div class="m-md-4 d-none" id="finishesList">
                                            <div class="form-group">
                                                <!-- External paints or gypsum works -->

                                                <div class="form-check">
                                                    <input type="hidden" name="paints" value="☐" />

                                                    <input class="form-check-input" type="checkbox" id="paints"
                                                        name="paints" value="☑" />

                                                    <label class="form-check-label mr-4" for="paints">
                                                        بويات خارجية أو أعمال الجبس
                                                    </label>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <!-- Installations for electrical, plumbing, or others -->

                                                <div class="form-check">
                                                    <input type="hidden" name="electrical" value="☐" />

                                                    <input class="form-check-input" type="checkbox" id="electrical"
                                                        name="electrical" value="☑" />

                                                    <label class="form-check-label mr-4" for="electrical">
                                                        تركيبات خاصة بالكهرباء أو السباكة أو غيرها
                                                    </label>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <!-- Surface tiles or roof seals -->

                                                <div class="form-check">
                                                    <input type="hidden" name="tiles" value="☐" />

                                                    <input class="form-check-input" type="checkbox" id="tiles"
                                                        name="tiles" value="☑" />

                                                    <label class="form-check-label mr-4" for="tiles">
                                                        بلاط السطح أو عوازا السطح
                                                    </label>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <!-- Interior property doors (wood) -->

                                                <div class="form-check">
                                                    <input type="hidden" name="wood" value="☐" />

                                                    <input class="form-check-input" type="checkbox" id="wood"
                                                        name="wood" value="☑" />

                                                    <label class="form-check-label mr-4" for="wood">
                                                        أبواب العقار الداخلية(الخشب)
                                                    </label>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <!-- Sanitary ware -->

                                                <div class="form-check">
                                                    <input type="hidden" name="sanitary" value="☐" />

                                                    <input class="form-check-input" type="checkbox" id="sanitary"
                                                        name="sanitary" value="☑" />

                                                    <label class="form-check-label mr-4" for="sanitary">
                                                        الأدوات الصحية
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <!-- The difference between the building and the license, such as not building the driver’s room or the annex, or the different building areas -->

                                        <div class="form-check">
                                            <input type="hidden" name="difference" value="☐" />

                                            <input class="form-check-input" type="checkbox" id="difference"
                                                name="difference" value="☑" />

                                            <label class="form-check-label mr-4" for="difference">
                                                إختلاف البناء عن الرخصة كعدم بناء غرفة السائق أو
                                                الملحق أو إختلاف مسطحات البناء
                                            </label>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <!-- Water is not connected to the meter -->

                                        <div class="form-check">
                                            <input type="hidden" name="water" value="☐" />

                                            <input class="form-check-input" type="checkbox" id="water" name="water"
                                                value="☑" />

                                            <label class="form-check-label mr-4" for="water">
                                                عدم توصيل المياه إلى العداد
                                            </label>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <!-- The age of the drug is more than twenty years, and I learned that some defects may appear in it due to the long life of the drug -->

                                        <div class="form-check">
                                            <input type="hidden" name="age" value="☐" />

                                            <input class="form-check-input" type="checkbox" id="age" name="age"
                                                value="☑" />

                                            <label class="form-check-label mr-4" for="age">
                                                عمر العقار أكثر من عشرين سنة , و قد علمت أنه قد تظهر
                                                فيه بعض العيوب نتيجة لطول عمر العقار
                                            </label>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <!-- Fees for the smugglers' service delivery to the property have been paid, but the electricity meter has not yet been installed and / or not

                                             Electricity service reaches him, and it will remain so for a period not exceeding (60) days starting from the date of the contract -->

                                        <div class="form-check">
                                            <input type="hidden" name="fees" value="☐" />

                                            <input class="form-check-input" type="checkbox" id="fees" name="fees"
                                                value="☑" />

                                            <label class="form-check-label mr-4" for="fees">
                                                تم سداد رسوم إيصال خدمة المهرباء للعقار , ولكن لم يتم
                                                تركيب عداد الكهرباء حتى الآنو/أو لم تصل إليه خدمة
                                                الكهرباء , و سيظل كذلك لمدة لا تزيد عن (60) يوم تبدأ
                                                من تاريخ العقد
                                            </label>
                                        </div>
                                    </div>

                                    <div class="form-group d-flex align-items-center">
                                        <!-- Others: -->

                                        <div class="form-check">
                                            <input type="hidden" name="others" value="☐" />
                                            <input class="form-check-input" type="checkbox" id="others" name="others"
                                                value="☑" />
                                            <label class="form-check-label mr-4" for="others">
                                                أخرى:
                                            </label>
                                        </div>
                                        <div>
                                            <input type="text" class="form-control check-text d-none" id="rentOtherText"
                                                name="rent_other_text" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>

                <div class="form-group d-flex flex-column justify-content-center my-2 captcha-box">
                    <div class="d-flex">
                        <p id="captcha-token" class="mb-0"></p>
                        <br />
                        <button type="button" id="captcha-refresh" class="mx-2">
                            <img src="./assets/img/refresh-cw.svg" alt="refresh" />
                        </button>
                    </div>
                    <div class="d-flex">
                        <!-- <p class="mx-2 mt-2">أدخل كود الكابتشا</p> -->
                        <p class="mb-0">
                            <span class="c-status p-3"> </span>
                            <input type="text" required
                                class="form-control py-2 rounded rounded-sm captcha-input number" name="captcha"
                                id="captcha" autocomplete="off" maxlength="5" />
                            <span class="error mx-3" aria-live="polite"></span>
                        </p>
                    </div>
                </div>

                <div class="form-group d-flex justify-content-center my-4">
                    <button type="submit" class="btn btn-primary app-btn px-5 py-3 my-3 d-flex align-items-center"
                        disabled>
                        <span class="spinner-border spinner-border-sm mx-2" role="status" aria-hidden="true"></span>
                        قدم الطلب
                    </button>
                </div>
            </form>
        </div>

        <!-- Thank you message -->

        <!-- Modal -->

        <div class="modal fade" id="thankModal" data-backdrop="static" data-keyboard="false" tabindex="-1"
            aria-labelledby="thankModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="thankModalLabel">شكرا</h5>
                    </div>

                    <div class="modal-body py-4">
                        <p>تمت العملية بنجاح</p>
                    </div>

                    <div class="modal-footer d-flex justify-content-start">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">
                            إنتهاء
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="./assets/js/jquery.js"></script>
    <script src="./assets/js/bootstrap.min.js"></script>
    <script src="./assets/js/jquery-ui.min.js"></script>
    <script src="./assets/js/bootstrap-hijri-datetimepicker.min.js"></script>
    <script>

        function maxLengthCheck_questratio(object) {
            if (object.value > object.max) {
                object.value = object.max;
            }
        }

        // Datepicker
        $(function () {
            // date picker
             $("#todayDate").datepicker({
                 isRTL: true,
                 prevText: "",
                 nextText: "",
                 dateFormat: "yy-mm-dd",
             });
            // // Today's date by default
             $("#todayDate")
                 .datepicker({ dateFormat: "yy-mm-dd" })
                 .datepicker("setDate", new Date());

            /* $("#todayDate")
                .hijriDatePicker({ defalut: new Date() }) */

            $(".datepicker").hijriDatePicker({
                hijri: true,
                showSwitcher: true,
            });
            // instrument_date instrumentHistory
            // Fix date format issue NAN-NAN-NAN  on google translate from Arabic to  English
            $('.ui-datepicker').addClass('notranslate');
        });

        // Input decimal numbers only
        $('.number').each(function () {
            $(this).on("input keydown keyup mousedown mouseup select contextmenu drop", function () {
                this.value === '.' ? this.value = '0.' : this.value;
                this.value = this.value.replace(/[^0-9\.]/g, '');
            })
        })

        // Phone number validation
        $(".phonenumber").each(function () {
            $(this).on("input keydown keyup mousedown mouseup select contextmenu drop", function () {
                if (this.value[0] && this.value[0] !== '0') {
                    this.value = '';
                    $(this).next().text('Phone number should start with 05');
                }
                else if (this.value[1] && this.value[1] !== '5') {
                    this.value = '0';
                    $(this).next().text('Phone number should start with 05');
                }
                else if (this.value.length >= 1 && this.value[0] === '0' && this.value[1] === '5') {
                    $(this).next().text('');
                }
                // Replace any character other than numbers with empty string.
                this.value = this.value.replace(/[^0-9]/g, '');
            });
        })

        // email validation

        // Captcha token generartion
        var token = "";
        function generateCaptcha() {
            token = Math.floor(Math.random() * 90000) + 10000;
            $("#captcha-token").text(token);
            $("#captcha").val('');
            $(".app-btn").prop("disabled", true);
            $(".c-status").removeClass('valid');
            $(".c-status").removeClass('invalid');
        }
        generateCaptcha();

        // refresh captha code         
        $("#captcha-refresh").on("click", generateCaptcha);
        // validate captcha code on input;
        $("#captcha").on("input", function (event) {
            if (event.target.value.length === 5 && parseInt(event.target.value) === token) {
                $(".app-btn").prop("disabled", false);
                $(".c-status").removeClass('invalid');
                $(".c-status").addClass('valid');
            }
            else if (event.target.value.length === 5 && parseInt(event.target.value) !== token) {
                $(".c-status").removeClass('valid');
                $(".c-status").addClass('invalid');
            }
            else {
                $(".app-btn").prop("disabled", true);
                $(".c-status").removeClass('invalid');
                $(".c-status").removeClass('valid');
            }
        });

        // show input validation errors
        function showError(input, inputError) {
            if (input.validity.valueMissing) {
                if ($(input).hasClass('phonenumber')) {
                    inputError.textContent = "Phone number should start with 05"
                } else {
                    inputError.textContent = "يرجى ملء هذا الحقل";
                }

            } else if (input.validity.typeMismatch) { 
                inputError.textContent = "قيمة إدخال غير صالحة";
            }
            inputError.className = "error active";
        }

        $("input[required]").not('.phonenumber').each(function (index) {
            $(this).on("input", function (item) {
                var error = document.querySelector("#" + item.target.getAttribute("id") + " + " + "span.error");
                if (item.target.validity.valid) {
                    error.innerHTML = "";
                    error.className = "error";
                } else {
                    showError(item.target, error);
                }
            });
        });
 
        // Toggle check boxes for The opinion of the direct employee to contract
        $("#notAppear").change(function () {
            if ($("#foundOut").is(":checked")) {
                $("#foundOut").prop("checked", false);
            }
        });

        $("#foundOut").change(function () {
            if ($("#notAppear").is(":checked")) {
                $("#notAppear").prop("checked", false);
            }
        });

        // Toggle check boxes for the template fullyFinished
        $("#fullyFinished").change(function () {
            if ($("#notes").is(":checked")) {
                $("#notes").prop("checked", false);
            }
        });

        $("#notes").change(function () {
            if ($("#fullyFinished").is(":checked")) {
                $("#fullyFinished").prop("checked", false);
            }
        });

        // select dropdown - show/hide real estate information
        var persuit = document
            .getElementById("persuit")
            .addEventListener("change", function () {
                var realEstateInfo = document.getElementById("realEstateInfo");
                var selectedValue = this.options[this.selectedIndex].value;
                if (selectedValue === "show") {
                    realEstateInfo.classList.remove("d-none");
                    // estateOffice officeOwner officePhone fax questValue questRatio
                    $("#estateOffice").prop("required", true);
                    $("#officeOwner").prop("required", true);
                    $("#officePhone").prop("required", true);
                    $("#fax").prop("required", true);
                    $("#questValue").prop("required", true);
                    $("#questRatio").prop("required", true);

                    $("#realEstateInfo input[required]").each(function (index) {
                        $(this).on("input", function (item) {
                            var error = document.querySelector(
                                "#" + item.target.getAttribute("id") + " + " + "span.error"
                            );
                            if (item.target.validity.valid) {
                                error.innerHTML = "";
                                error.className = "error";
                            } else {
                                showError(item.target, error);
                            }
                        });
                    });
                }
                if (selectedValue === "hide") {
                    realEstateInfo.classList.add("d-none");
                    $("#estateOffice").prop("required", false).val('');
                    $("#officeOwner").prop("required", false).val('');
                    $("#officePhone").prop("required", false).val('');
                    $("#fax").prop("required", false).val('');
                    $("#questValue").prop("required", false).val('');
                    $("#questRatio").prop("required", false).val('');
                }
            });

        // uncheck notes list checkboxes
        function unCheckNotesList() {
            $("#finishes").prop("checked", false);
            $("#difference").prop("checked", false);
            $("#water").prop("checked", false);
            $("#age").prop("checked", false);
            $("#others").prop("checked", false);
            $("#fees").prop("checked", false);
            $('#rentOtherText').addClass("d-none").val('');
        }

        // uncheck fully furnished list checkboxes
        function unCheckFurnishedList() {
            $("#paints").prop("checked", false);
            $("#electrical").prop("checked", false);
            $("#tiles").prop("checked", false);
            $("#wood").prop("checked", false);
            $("#sanitary").prop("checked", false);
        }
        // hide show notes list checkboxes
        document.getElementById("notes").addEventListener("change", function () {
            unCheckNotesList();
            unCheckFurnishedList();
            if (this.checked === true) {
                $("#notesList").removeClass("d-none");
                $("#finishesList").addClass("d-none");
            }
            if (this.checked === false) {
                $("#notesList").addClass("d-none");
            }
        });

        $("#notes").on("change", function () {
            unCheckNotesList();
            unCheckFurnishedList();
            if (this.checked === true) {
                $("#notesList").removeClass("d-none");
                $("#finishesList").addClass("d-none");
            }
            if (this.checked === false) {
                $("#notesList").addClass("d-none");
            }
        })
        // fullyFinished - hide notes list checkboxes
        document
            .getElementById("fullyFinished")
            .addEventListener("change", function () {
                unCheckNotesList();
                unCheckFurnishedList();
                if (this.checked === true) {
                    $("#notesList").addClass("d-none");
                    $("#finishesList").addClass("d-none");
                }
            });
        // hide show finishesList checkboxes

        $("#finishes").on("change", function () {
            unCheckFurnishedList();
            if (this.checked === true) {
                $("#finishesList").removeClass("d-none");
            }
            if (this.checked === false) {
                $("#finishesList").addClass("d-none");
            }
        })
        // hide show other checkboxes text field
        $("#others").change(function () {
            if (this.checked === true) {
                $('#rentOtherText').removeClass("d-none");
            }
            if (this.checked === false) {
                $('#rentOtherText').addClass("d-none").val('');
            }
        })

        $("#other").change(function () {
            if (this.checked === true) {
                $("#realOtherText").removeClass("d-none");
            }
            if (this.checked === false) {
                $("#realOtherText").addClass("d-none").val('');
            }
        })
        // Toggle payment info checkboxes
        $("#firstPay").change(function () {
            if ($("#firstPayNot").is(":checked")) {
                $("#firstPayNot").prop("checked", false);
            }
        });
        $("#firstPayNot").change(function () {
            if ($("#firstPay").is(":checked")) {
                $("#firstPay").prop("checked", false);
            }
        });

        $("#secondPay").change(function () {
            if ($("#secondPayNot").is(":checked")) {
                $("#secondPayNot").prop("checked", false);
            }
        });
        $("#secondPayNot").change(function () {
            if ($("#secondPay").is(":checked")) {
                $("#secondPay").prop("checked", false);
            }
        });
        $("#thirdPay").change(function () {
            if ($("#thirdPayNot").is(":checked")) {
                $("#thirdPayNot").prop("checked", false);
            }
        });
        $("#thirdPayNot").change(function () {
            if ($("#thirdPay").is(":checked")) {
                $("#thirdPay").prop("checked", false);
            }
        });
        $("#fourthPay").change(function () {
            if ($("#fourthPayNot").is(":checked")) {
                $("#fourthPayNot").prop("checked", false);
            }
        });
        $("#fourthPayNot").change(function () {
            if ($("#fourthPay").is(":checked")) {
                $("#fourthPay").prop("checked", false);
            }
        });

        // date picker validation
        $(".datepicker").each(function (index) {
            $(this).on("change", function (item) {
                var error = document.querySelector(
                    "#" + item.target.getAttribute("id") + " + " + "span.error"
                );
                if (item.target.validity.valid) {
                    error.innerHTML = "";
                    error.className = "error";
                } else {
                    showError(item.target, error);
                }
            });
        });

        // Submit form data
        var form = document.getElementsByTagName("form")[0];

        $("form").submit(function (event) {
            var captchaValue = parseInt(document.getElementById("captcha").value);
            event.preventDefault();
            $(".spinner-border").toggle();
            // Expand panels
            $(".collapse").each(function (index) {
                $("#" + this.getAttribute("id")).collapse("show");
            });
            // check for input errors and show error messages
            // $("input[required]").each(function (index) {
            $("input").each(function (index) {
                var error = document.querySelector(
                    "#" + this.getAttribute("id") + " + " + "span.error"
                );
                if (!this.validity.valid) {
                    showError(this, error);
                }
            });

            // on input errors scroll to the invalid input field and set focus to the input field
            if (!form.checkValidity()) {
                $(".error.active").siblings(".form-control")[0].focus();
                $([document.documentElement, document.body]).animate(
                    {
                        scrollTop: $(".error.active").offset().top - 120,
                    },
                    1000
                );
                $(".spinner-border").toggle();
                // reset captcha code on input errors
                generateCaptcha();
            }

            if (form.checkValidity() && token === captchaValue) {
                var formData = new FormData(document.forms[0]);
                var payload = {};
                let arr = $(this).serializeArray();
                for (var i = 0; i < arr.length; i++) {
                    payload[arr[i].name] = arr[i].value;
                }
                function downloadDocumentIE(file_url, file_name) {
                    var xhr = new XMLHttpRequest();
                    xhr.open("GET", file_url, true);
                    xhr.responseType = "blob";
                    xhr.onload = function (e) {
                        if (this.status == 200) {
                            var blob = this.response;
                            navigator.msSaveBlob(blob, file_name);
                        }
                    };
                    xhr.onerror = function (e) {
                        alert(
                            "Error " +
                            e.target.status +
                            " occurred while receiving the document."
                        );
                    };
                    xhr.send();
                }
                $.ajax({
                    type: "POST",
                    url: "/generate_documents",
                    data: JSON.stringify({ data: payload, }),
                    success: function (outputDocuments) {

                        if (outputDocuments.filenames.length !== 0) {
                            for (var i = 0; i < outputDocuments.filenames.length; i++) {
                                console.log(outputDocuments.filenames[i]);
                                var file_url = window.location.href + "/MortgageReports/" + outputDocuments.filenames[i] + ".docx";
                                var file_name = outputDocuments.filenames[i] + ".docx";
                                // for IE broser
                                if (navigator.msSaveBlob) {
                                    downloadDocumentIE(file_url, file_name);
                                } else {
                                    var link = document.createElement("a");
                                    link.href = window.location.href + "/MortgageReports/" + outputDocuments.filenames[i] + ".docx";
                                    link.setAttribute("download", outputDocuments.filenames[i]);
                                    document.body.appendChild(link);
                                    link.click();
                                }
                            }
                            $("#thankModal").modal();
                            document.getElementById("appForm").reset();
                            $(".spinner-border").toggle();
                            $(".app-btn").prop("disabled", true);
                            generateCaptcha();
                            document.getElementById("notesList").classList.add("d-none");
                            document.getElementById("realOtherText").classList.add("d-none");
                        }
                    },
                    contentType: "application/json",
                    dataType: "json",
                });
            }
        }); 
    </script>
</body>

</html>